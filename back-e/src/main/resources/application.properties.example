# ====================================
# EXAMPLE APPLICATION CONFIGURATION
# ====================================
# Copy this file to application.properties and fill in your values
# For production deployment, use environment variables instead

# Server Configuration
server.port=8080
spring.application.name=ems-backend

# PostgreSQL Database Configuration
# For Railway: Use the DATABASE_URL or individual connection variables
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/ems_db}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:your-secure-password-here}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# JWT Configuration
# IMPORTANT: Generate a strong secret key for production (min 256 bits)
# You can generate one using: openssl rand -base64 32
jwt.secret=${JWT_SECRET:CHANGE-THIS-TO-A-SECURE-RANDOM-STRING-MIN-256-BITS}
jwt.access-token-expiration=${JWT_ACCESS_TOKEN_EXPIRATION:3600000}
jwt.refresh-token-expiration=${JWT_REFRESH_TOKEN_EXPIRATION:86400000}

# Time Zone Configuration
# Application timezone - used for all business logic (attendance, tickets, reports)
# This should match the business timezone regardless of server location
app.timezone=${APP_TIMEZONE:Asia/Colombo}
# Jackson JSON serialization timezone
spring.jackson.time-zone=${APP_TIMEZONE:Asia/Colombo}

# File Upload (for base64 image upload)
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Logging
logging.level.com.ems=DEBUG
logging.level.org.springframework.security=DEBUG

# Email Configuration (Gmail SMTP)
# For Gmail: Use an App Password, not your regular password
# Generate at: https://myaccount.google.com/apppasswords
spring.mail.host=${SPRING_MAIL_HOST:smtp.gmail.com}
spring.mail.port=${SPRING_MAIL_PORT:587}
spring.mail.username=${SPRING_MAIL_USERNAME:your-email@gmail.com}
spring.mail.password=${SPRING_MAIL_PASSWORD:your-gmail-app-password}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# WhatsApp Configuration (Meta Cloud API)
# Get credentials from: https://developers.facebook.com/apps
whatsapp.api.url=${WHATSAPP_API_URL:https://graph.facebook.com/v18.0}
whatsapp.api.token=${WHATSAPP_API_TOKEN:YOUR_ACCESS_TOKEN_HERE}
whatsapp.phone.number.id=${WHATSAPP_PHONE_NUMBER_ID:YOUR_PHONE_NUMBER_ID_HERE}
whatsapp.verify.token=${WHATSAPP_VERIFY_TOKEN:YOUR_CUSTOM_VERIFY_TOKEN}

# Application Configuration
app.frontend.url=${APP_FRONTEND_URL:http://localhost:3000}
app.password.reset.token.expiry.minutes=${APP_PASSWORD_RESET_TOKEN_EXPIRY:15}

# Enable Scheduling
spring.task.scheduling.enabled=true
